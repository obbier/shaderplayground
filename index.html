<!DOCTYPE html>

<!--
    This is an HTML page that contains a CSS and a Javascript file.
    
    Run this sample by clicking the 'Preview' button on top;
    a new tab will open with the current page open.
-->
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Shader Playground</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.1.0/knockout-min.js"></script>
        <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
        <script src="https://embeddedjavascript.googlecode.com/files/ejs_production.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script>
            template = new EJS({url: '/defaultFragmentShader.ejs'}).update('#fragmentShader');
        </script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <canvas id="playground" data-bind="attr: { width: canvasWidth, height: canvasHeight }"></canvas>
                </div>
                <div class="col-md-4">
                    <div role="tabpanel">

                      <!-- Nav tabs -->
                      <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active"><a href="#shaders" aria-controls="shaders" role="tab" data-toggle="tab">Shaders</a></li>
                        <li role="presentation"><a href="#attributes" aria-controls="attributes" role="tab" data-toggle="tab">Attributes</a></li>
                        <li role="presentation"><a href="#uniforms" aria-controls="uniforms" role="tab" data-toggle="tab">Uniforms</a></li>
                        <li role="presentation"><a href="#settings" aria-controls="settings" role="tab" data-toggle="tab">Settings</a></li>
                      </ul>
                    
                      <!-- Tab panes -->
                      <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="shaders">
                            Vertex Shader:<br>
                            <textarea id="vertexShader" class="form-control" rows="6"></textarea>
                            <br>
                            Fragment Shader:<br>
                            <textarea id="fragmentShader" class="form-control" rows="6">
                                   <%= template %>
                            </textarea>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="attributes">Attributes</div>
                        <div role="tabpanel" class="tab-pane" id="uniforms">...</div>
                        <div role="tabpanel" class="tab-pane" id="settings">
                            Canvas Height: <input type="text" class="form-control" placeholder="500" data-bind="value: canvasHeight">
                            <br>
                            Canvas Width: <input type="text" class="form-control" placeholder="500" data-bind="value: canvasWidth">
                        </div>
                      </div>
                    
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <textarea id="console" class="form-control" rows="3"></textarea>
                </div>
            </div>
        </div>
            <!-- load scripts at the bottom of your page -->
        <script src="js/site.js"></script>
    </body>
</html>